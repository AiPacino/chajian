!function(){function h(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),a=window.location.search.substr(1).match(e);return null!=a?decodeURI(a[2]):null}function f(t,e){t=t.split("?")[1];var a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=t.substr(0).match(a);return null!=i?i[2]:null}function w(t){function r(t,e){return t<<e|t>>>32-e}function l(t,e){var a,i,n,o,s;return n=2147483648&t,o=2147483648&e,s=(1073741823&t)+(1073741823&e),(a=1073741824&t)&(i=1073741824&e)?2147483648^s^n^o:a|i?1073741824&s?3221225472^s^n^o:1073741824^s^n^o:s^n^o}function e(t,e,a,i,n,o,s){return l(r(t=l(t,l(l((c=e)&a|~c&i,n),s)),o),e);var c}function a(t,e,a,i,n,o,s){return l(r(t=l(t,l(l(e&(c=i)|a&~c,n),s)),o),e);var c}function i(t,e,a,i,n,o,s){return l(r(t=l(t,l(l(e^a^i,n),s)),o),e)}function n(t,e,a,i,n,o,s){return l(r(t=l(t,l(l(a^(e|~i),n),s)),o),e)}function o(t){var e,a="",i="";for(e=0;e<=3;e++)a+=(i="0"+(t>>>8*e&255).toString(16)).substr(i.length-2,2);return a}var s,c,d,p,m,u,h,f,w,v;for(v=function(t){for(var e,a=t.length,i=a+8,n=16*((i-i%64)/64+1),o=new Array(n-1),s=0,c=0;c<a;)s=c%4*8,o[e=(c-c%4)/4]=o[e]|t.charCodeAt(c)<<s,c++;return s=c%4*8,o[e=(c-c%4)/4]=o[e]|128<<s,o[n-2]=a<<3,o[n-1]=a>>>29,o}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",a=0;a<t.length;a++){var i=t.charCodeAt(a);i<128?e+=String.fromCharCode(i):(127<i&&i<2048?e+=String.fromCharCode(i>>6|192):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128)),e+=String.fromCharCode(63&i|128))}return e}(t)),u=1732584193,h=4023233417,f=2562383102,w=271733878,s=0;s<v.length;s+=16)h=n(h=n(h=n(h=n(h=i(h=i(h=i(h=i(h=a(h=a(h=a(h=a(h=e(h=e(h=e(h=e(d=h,f=e(p=f,w=e(m=w,u=e(c=u,h,f,w,v[s+0],7,3614090360),h,f,v[s+1],12,3905402710),u,h,v[s+2],17,606105819),w,u,v[s+3],22,3250441966),f=e(f,w=e(w,u=e(u,h,f,w,v[s+4],7,4118548399),h,f,v[s+5],12,1200080426),u,h,v[s+6],17,2821735955),w,u,v[s+7],22,4249261313),f=e(f,w=e(w,u=e(u,h,f,w,v[s+8],7,1770035416),h,f,v[s+9],12,2336552879),u,h,v[s+10],17,4294925233),w,u,v[s+11],22,2304563134),f=e(f,w=e(w,u=e(u,h,f,w,v[s+12],7,1804603682),h,f,v[s+13],12,4254626195),u,h,v[s+14],17,2792965006),w,u,v[s+15],22,1236535329),f=a(f,w=a(w,u=a(u,h,f,w,v[s+1],5,4129170786),h,f,v[s+6],9,3225465664),u,h,v[s+11],14,643717713),w,u,v[s+0],20,3921069994),f=a(f,w=a(w,u=a(u,h,f,w,v[s+5],5,3593408605),h,f,v[s+10],9,38016083),u,h,v[s+15],14,3634488961),w,u,v[s+4],20,3889429448),f=a(f,w=a(w,u=a(u,h,f,w,v[s+9],5,568446438),h,f,v[s+14],9,3275163606),u,h,v[s+3],14,4107603335),w,u,v[s+8],20,1163531501),f=a(f,w=a(w,u=a(u,h,f,w,v[s+13],5,2850285829),h,f,v[s+2],9,4243563512),u,h,v[s+7],14,1735328473),w,u,v[s+12],20,2368359562),f=i(f,w=i(w,u=i(u,h,f,w,v[s+5],4,4294588738),h,f,v[s+8],11,2272392833),u,h,v[s+11],16,1839030562),w,u,v[s+14],23,4259657740),f=i(f,w=i(w,u=i(u,h,f,w,v[s+1],4,2763975236),h,f,v[s+4],11,1272893353),u,h,v[s+7],16,4139469664),w,u,v[s+10],23,3200236656),f=i(f,w=i(w,u=i(u,h,f,w,v[s+13],4,681279174),h,f,v[s+0],11,3936430074),u,h,v[s+3],16,3572445317),w,u,v[s+6],23,76029189),f=i(f,w=i(w,u=i(u,h,f,w,v[s+9],4,3654602809),h,f,v[s+12],11,3873151461),u,h,v[s+15],16,530742520),w,u,v[s+2],23,3299628645),f=n(f,w=n(w,u=n(u,h,f,w,v[s+0],6,4096336452),h,f,v[s+7],10,1126891415),u,h,v[s+14],15,2878612391),w,u,v[s+5],21,4237533241),f=n(f,w=n(w,u=n(u,h,f,w,v[s+12],6,1700485571),h,f,v[s+3],10,2399980690),u,h,v[s+10],15,4293915773),w,u,v[s+1],21,2240044497),f=n(f,w=n(w,u=n(u,h,f,w,v[s+8],6,1873313359),h,f,v[s+15],10,4264355552),u,h,v[s+6],15,2734768916),w,u,v[s+13],21,1309151649),f=n(f,w=n(w,u=n(u,h,f,w,v[s+4],6,4149444226),h,f,v[s+11],10,3174756917),u,h,v[s+2],15,718787259),w,u,v[s+9],21,3951481745),u=l(u,c),h=l(h,d),f=l(f,p),w=l(w,m);return(o(u)+o(h)+o(f)+o(w)).toLowerCase()}function z(t,e){var a,i,n;function o(t,e){var a=0,i=t.toString(),n=e.toString();try{a+=i.split(".")[1].length}catch(t){}try{a+=n.split(".")[1].length}catch(t){}return Number(i.replace(".",""))*Number(n.replace(".",""))/Math.pow(10,a)}try{a=t.toString().split(".")[1].length}catch(t){a=0}try{i=e.toString().split(".")[1].length}catch(t){i=0}return(o(t,n=Math.pow(10,Math.max(a,i)))-o(e,n))/n}function l(t){window.open("javascript:window.name;",'<script>location.replace("'+t+'")<\/script>')}var q=location.host;!function(){var t={"detail.tmall.com":{name:"tm",dom:["#J_TabBarBox","#side-shop-info .hd",".tm-floatcart-link","#mainwrap .tabbar-bg"]},"detail.tmall.hk":{name:"tm",dom:["#J_TabBarBox","#side-shop-info .hd",".tm-floatcart-link","#mainwrap .tabbar-bg"]},"item.taobao.com":{name:"tb",dom:["#J_TabBarWrap"]},"item.taobao.hk":{name:"tb",dom:["#J_TabBarWrap"]},"detail.ju.taobao.com":{name:"tm",dom:[".dd-header"]},"chaoshi.detail.tmall.com":{name:"tm",dom:["#page .tm-chaoshi-nav"]},"item.jd.com":{name:"jd",dom:["#detail .tab-main"]},"item.jd.hk":{name:"jd",dom:["#detail .tab-main"]}},a=0,i="";if($.each(t,function(t,e){if(q==t)return a=1,i=e.name,!1}),a){var u,n,c,r,o=function(){$("body").after('<div id="zqwT159">\n                    <div class="zqwT159-logo-arrow"></div>\n                    <div class="zqwT159-box zqwClear">\n                        <div class="zqwT159-logo fl" title="惠省乐购物助手"><i></i></div>\n                        <div class="zqwT159-like fl">\n                            <i></i>\n                            <span>值得买</span>\n                            <div class="zqwT159-likeBack">\n                            </div>\n                            <div class="zqwT159-likeDrop">\n                                <ul class="zqwClear"></ul>\n                            </div>\n                        </div>\n                        <div class="zqwT159-bijia fl">\n                            <i></i>\n                            <span>全网比价</span>\n                        </div>\n                        <div class="zqwT159-sameStyle fl"></div>\n                        <div class="zqwT159-open fr"></div>\n                        <div class="zqwT159-active fr" style="display: none">\n                            <ul>\n                                <li>\n                                    <i></i>\n                                    <a href="" target="_blank">必备春装 , 领取100元优惠券 !</a>\n                                </li>\n                                <li>\n                                    <i></i>\n                                    <a href="" target="_blank"> 领取100元优惠券 !</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div class="zqwT159-logo-fix"></div>\n                </div>'),$(".zqwT159-active ul").bxSlider({mode:"vertical",captions:!0,auto:!0,controls:!1,autoHover:!0,pager:!1});var e='<div id="zqwM159">\n                    <div class="zqwM159-main">\n                        <div class="zqwM159-logo"><a href="" target="_blank"></a></div>\n                        <div class="zqwM159-h5">\n                            <div class="zqwM159-title"><span>扫码</span></div>\n                            <div class="zqwM159-box zqwM159-box-h5">\n                                <div class="zqwM159-h5-box">\n                                    <div class="zqwM159-h5-arrow">\n                                        <div class="zqwM159-up1"></div>\n                                        <div class="zqwM159-up2"></div>\n                                        <div class="zqwM159-up3"></div>\n                                    </div>\n                                    <div class="zqwM159-h5-qCode"></div>\n                                    <div class="zqwM159-h5-title">打开淘宝APP<br>扫码领券</div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="zqwM159-price">\n                            <div class="zqwM159-title zqwM159-price-title"><span>价格趋势</span><b></b></div>\n                            <div class="zqwM159-box zqwM159-box-price">\n                                <div id="zqwM159-price-trend"></div>\n                                <div class="zqwM159-price-explain">价格趋势由<span>找券窝</span>提供</div>\n                                <div class="zqwM159-price-back">对不起，该商品的价格趋势正在收录中</div>\n                            </div>\n                        </div>\n                        <div class="zqwM159-douYin">\n                            <div class="zqwM159-title"><span>抖音同款</span></div>\n                            <div class="zqwM159-box zqwM159-box-same">\n                                <ul></ul>\n                            </div>\n                        </div>\n                        <div class="zqwM159-QQ">\n                            <div class="zqwM159-title"><span>领券咨询</span></div>\n                        </div>\n                        <div class="zqwM159-close">\n                        </div>\n                    </div>\n                </div>';$.each({".tm-fcs-panel":0,".tb-promo-meta":0,".tb-meta":0,".summary-price-wrap":0,".proinfo-focus":1,".prd-price-1":1,".price_info":1,".J_statusBanner":1},function(t){if($(t).length)return".tm-fcs-panel"==t?$(t).after("<div style='margin-right: 20px'>"+e+"</div>"):".price_info"==t?$(t).after("<div style='margin-left: -10px'>"+e+"</div>"):$(t).after(e),!1}),$(".zqwM159-ab-title a").click(function(t){t.preventDefault(),m(0,"https://ai.taobao.com/search/index.htm?key=连衣裙&pid=mm_114987072_44144030_416992187")});var a;function o(t){$.ajax({url:"https://zhushou.huihui.cn/productSense",data:{phu:t,type:"canvas"},type:"GET",timeout:5e3,dataType:"json",success:function(t){for(var e=t.priceHistoryData.list,a=new Date,i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),n=[],o=[],s=[],c=0,r=0;r<e.length;r++){var l=0;0<r&&(l=e[r-1].price),e[r].price!=l&&(s[c]=e[r],c++)}var d=s[s.length-1];s[s.length-1].price==v.price?s[s.length-1]={price:v.price,time:i}:s[s.length]={price:v.price,time:i};var p=!0;if(1==s.length){var m=s[0];p=!(s=[m,m,m])}var u=s.slice(-7);if($.each(u,function(t,e){n.push(e.price);var a=[];a[0]=e.time.split("-")[1].replace(/^[0]/,""),a[1]=e.time.split("-")[2].replace(/^[0]/,""),a=a.join("/"),o.push(a)}),0==p){o[0]="";var h=[];h[0]=d.time.split("-")[1].replace(/^[0]/,""),h[1]=d.time.split("-")[2].replace(/^[0]/,""),h=h.join("/"),o[1]=h}n[n.length-1]>n[n.length-2]?$(".zqwM159-price-title span").fadeOut(function(){window.innerWidth&&window.innerWidth<1200?$(this).html("上涨").fadeIn(1e3):$(this).html("价格上涨").fadeIn(1e3),$(this).next().fadeIn(1e3).css("display","inline-block").addClass("up")}):n[n.length-1]<n[n.length-2]&&$(".zqwM159-price-title span").fadeOut(function(){window.innerWidth&&window.innerWidth<1200?$(this).html("下降").fadeIn(1e3):$(this).html("价格下降").fadeIn(1e3),$(this).next().fadeIn(1e3).css("display","inline-block").addClass("down")});var f=echarts.init($("#zqwM159-price-trend")[0]),w={tooltip:{trigger:"axis"},xAxis:[{data:o,axisLine:{lineStyle:{color:"#ccc",width:1}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"}}}],yAxis:[{scale:"true",splitNumber:2,minInterval:1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{textStyle:{color:"#999"}}}],grid:[{bottom:"70",top:"50",left:"12%",right:"8%"}],series:[{type:"line",smooth:!1,symbol:"circle",symbolSize:6,data:n,label:{normal:{show:!0,color:"#000",fontFamily:"Microsoft Yahei",position:"top"}},itemStyle:{normal:{color:"#d0090f",label:{show:!0}}},lineStyle:{normal:{color:"#d0090f"}},markPoint:{symbol:"rect",symbolSize:[50,10],symbolOffset:[0,-26],itemStyle:{normal:{color:"transparent"}},label:{normal:{textStyle:{color:"#D0090F"}}},data:[{type:"max",name:"最大值",label:{normal:{show:p,formatter:"最高"}}},{type:"min",name:"最小值",label:{normal:{show:p,formatter:"最低"}}}]},areaStyle:{normal:{color:{x:0,y:0,x2:0,y2:1,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(208, 9, 15, 0.2)"},{offset:1,color:"rgba(208, 9, 15, 0)"}]}}}}]};f.setOption(w),$(".zqwM159-price-explain").show()},error:function(){$("#zqwM159-price-trend").hide(),$(".zqwM159-price-back").show()}})}function s(t){var e,a=Number.POSITIVE_INFINITY,n={jd:{list:[],min:a,value:14,url:""},tb:{list:[],min:a,value:13,url:""},tm:{list:[],min:a,value:12,url:""},wph:{list:[],min:a,value:11,url:""},dd:{list:[],min:a,value:10,url:""},sn:{list:[],min:a,value:9,url:""},ymx:{list:[],min:a,value:8,url:""},gm:{list:[],min:a,value:7,url:""},yhd:{list:[],min:a,value:6,url:""},yoho:{list:[],min:a,value:5,url:""},jm:{list:[],min:a,value:4,url:""},kl:{list:[],min:a,value:3,url:""},yx:{list:[],min:a,value:2,url:""},mgj:{list:[],min:a,value:1,url:""},qt:{list:[],min:a,value:0,url:""}};function i(t,e){n[t].list.push(e),1*e.cutprice<n[t].min&&(n[t].min=1*e.cutprice,n[t].url=e.url)}e=t,chrome.extension.sendMessage({name:"universal",url:"http://pricecomparison.browser.qq.com/get_comparison_info",type:"get",dataType:"json",data:{url:e}},function(t){if(t&&t.product&&t.product.length){var e=t.product;$.each(e,function(t,e){var a=e.sitename;switch(a){case(a.match("京东")||{}).input:i("jd",e);break;case(a.match("淘宝")||{}).input:i("tb",e);break;case(a.match("天猫")||{}).input:i("tm",e);break;case(a.match("唯品会")||{}).input:i("wph",e);break;case(a.match("当当")||{}).input:i("dd",e);break;case(a.match("苏宁")||{}).input:i("sn",e);break;case(a.match("亚马逊")||{}).input:i("ymx",e);break;case(a.match("国美")||{}).input:i("gm",e);break;case(a.match("号店")||{}).input:i("yhd",e);break;case(a.match("YOHO")||{}).input:i("yoho",e);break;case(a.match("聚美")||{}).input:i("jm",e);break;case(a.match("考拉")||{}).input:i("kl",e);break;case(a.match("严选")||{}).input:i("yx",e);break;case(a.match("蘑菇")||{}).input:i("mgj",e);break;default:i("qt",e)}}),function(){var e={tm:"天猫",tb:"淘宝",jd:"京东",wph:"唯品会",dd:"当当",sn:"苏宁",ymx:"亚马逊",gm:"国美",yhd:"1号店",yoho:"YOHO",jm:"聚美",kl:"考拉",yx:"严选",mgj:"蘑菇街",qt:"其他"};v.sameNew=n;var i="";$.each(v.sameNew,function(a,t){t.url&&($.each(e,function(t,e){if(a==t)return!1}),i+='<a href="'+t.url+'" target="_blank" class="fl">\n                                    <div id="zqwT159-sameStyle-'+a+'">\n                                        <i class="'+a+'"></i>\n                                        <span class="zqwT159-sameStyle-price">¥'+t.min+"</span>\n                                    </div>\n                                </a>")}),$(".zqwT159-sameStyle").html(i);var t=[];function a(){$(".zqwT159-sameStyle").css({width:$(".zqwT159-box").width()-835});var a=t.length;if(!(a<2)){var i=0;$.each(t,function(t,e){if(i+=e,(i+=24)>$(".zqwT159-sameStyle").width())return a=t,!1}),$(".zqwT159-sameStyle>a").eq(a-1).nextAll().hide(),$(".zqwT159-sameStyle>a").eq(a-1).prevAll().show(),$(".zqwT159-sameStyle>a").eq(a-1).show()}}$(".zqwT159-sameStyle>a").each(function(){t.push($(this).width())}),a(),$(window).on("resize",function(){a()})}()}})}function d(t){var e="",i="";$.ajax({url:"https://uland.taobao.com/cp/coupon_list?pid="+u.myMmId+"&category="+t+"&queryCount=500",success:function(t){if(t&&t.result&&t.result.couponList&&t.result.couponList.length){e=t.result.couponList;var a="";$.each(e,function(t,e){a="0"==e.item.tmall?"tb":"tm",i+='<li>\n                                        <a href="#" class="zqwClear" data-href="'+e.item.shareUrl+'">\n                                            <div class="zqwT159-like-img fl"><img src="'+e.item.picUrl+'_130x130"></div>\n                                            <div class="fl">\n                                                <div class="zqwT159-like-title">'+e.item.title+'<i class="'+a+'"></i></div>\n                                                <div class="zqwT159-like-sale">月销量 : '+e.item.biz30Day+'</div>\n                                                <div class="zqwT159-like-price">券后 : ¥\n                                                    <span>'+z(e.item.discountPrice,e.amount)+"</span>&nbsp;\n                                                    <s>¥ "+e.item.discountPrice+'</s>\n                                                </div>\n                                                <div class="zqwT159-like-but">点击领'+e.amount+"元券</div>\n                                            </div>\n                                        </a>\n                                    </li>"}),$(".zqwT159-likeDrop ul").html(i),$(".zqwT159-likeDrop").on("click","a",function(t){t.preventDefault(),m(1,"https:"+$(this).data("href"))})}}})}function p(t,e){$("#zqwT159").after('<div class="zqwD159-box" data-zqwClick="MID-悬浮球领券点击">\n                        <div class="zqwD159-wave"></div>\n                        <div class="zqwD159-amount">¥'+t+'元券</div>\n                        <div class="zqwD159-title">领取</div>\n                    </div>');var a=$(".zqwM159-close").offset().top-$(window).scrollTop(),i=$(".zqwM159-close").offset().left;$(".zqwD159-box").css("transform","translate3d("+i+"px, "+a+"px, 0px)");var n,o,s,c,r=1;$(".zqwD159-box").on({mousedown:function(t){setTimeout(function(){r=0},200);var e=$(this);n=t.offsetX,o=t.offsetY,$(document).on("mousemove.zqwDrag",function(t){s=t.clientX,c=t.clientY,s-=n,c-=o,e.css("transform","translate3d("+s+"px, "+c+"px, 0px)")})},mouseup:function(){setTimeout(function(){r=1},200),$(document).off("mousemove.zqwDrag")}}),$(".zqwD159-box").click(function(){r&&m(1,e)})}function m(t,e){t?($(".zqwMask-title").html("您当前点击领取后将跳转至找券窝购物助手处理的<br>淘宝优惠券领取页面，您是否同意？"),r.zqwUland?($(".zqwMask").show(),$(".zqwMask-but").attr("data-href",e),$(".zqwMask-but").attr("data-type","1")):l(e)):($(".zqwMask-title").html("您当前点击领取后将跳转至找券窝购物助手处理的<br>淘宝商品详情页面，您是否同意？"),r.zqwClick?($(".zqwMask").show(),$(".zqwMask-but").attr("data-href",e),$(".zqwMask-but").attr("data-type","2")):l(e))}$("body").after('<div class="zqwMask">\n                    <div class="zqwMask-title">您当前点击领取后将跳转至找券窝购物助手处理的<br>淘宝优惠券领取页面，您是否同意？</div>\n                    <div class="zqwMask-but">同意</div>\n                    <div class="zqwMask-input">\n                        <label for="zqw-input">\n                            <input name="" type="checkbox" value="" id="zqw-maskInput" checked="checked">下次不要提示\n                        </label>\n                    </div>\n                    <div class="zqwMask-close"></div>\n                </div>'),$("html").html().match("1273367929")||($("<script><\/script>").html('var _czc = _czc || [];_czc.push(["_setAccount", "1273367929"]);').appendTo($("head")),$.getScript("https://s13.cnzz.com/z_stat.php?id=1273367929&web_id=1273367929",function(){var t;$(document).on("click","[data-zqwClick]",function(){var t=$(this).attr("data-zqwClick"),e=document.createElement("script");e.appendChild(document.createTextNode('_czc.push(["_trackEvent", "'+t+'", "点击"]);')),document.head.appendChild(e)}),$(document).on("mouseenter","[data-zqwMove]",function(){var a=$(this);t=setTimeout(function(){var t=a.attr("data-zqwMove"),e=document.createElement("script");e.appendChild(document.createTextNode('_czc.push(["_trackEvent", "'+t+'", "移入"]);')),document.head.appendChild(e)},500)}),$(document).on("mouseleave","[data-zqwMove]",function(){clearInterval(t)})})),a=[],$.each(t,function(t,e){if(q==t)return a=e.dom,!1}),a.length&&$(document).scroll(function(){"fixed"==$(a[0]).css("position")&&"show"==n.zqwTop&&"show"==c.zqwTop?$.each(a,function(t,e){$(e).css("transform","translate(0,50px)")}):$.each(a,function(t,e){$(e).css("transform","translate(0,0)")})}),"hidden"==n.zqwTop||"hidden"==c.zqwTop?($(".zqwT159-logo-arrow").show(),$(".zqwT159-box").css({transform:"translate(-100%, 0)"}),$("body").css({transition:"all .5s","padding-top":"0px"})):($(".zqwT159-logo-arrow").hide(),$(".zqwT159-box").css({transition:"none",transform:"translate(0,0)"}),$("body").css({transition:"all .5s","padding-top":"50px"})),"hidden"!=n.zqwMid&&"hidden"!=c.zqwMid||$("#zqwM159").parent().css("display","none"),$(".zqwT159-open").click(function(){$(".zqwT159-logo-arrow").show(),$(".zqwT159-box").css({transition:"all .5s",transform:"translate(-100%,0)"}),$("body").css({transition:"all .5s","padding-top":"0px"}),n.zqwTop="hidden",chrome.storage.local.set({zqwSet:{zqwTop:"hidden",zqwMid:n.zqwMid}})}),$(".zqwT159-logo-fix,.zqwT159-logo-arrow").click(function(){$(".zqwT159-box").css({transition:"all .5s",transform:"translate(0,0)"}),$("body").css({transition:"all .5s","padding-top":"50px"}),n.zqwTop="show",chrome.storage.local.set({zqwSet:{zqwTop:"show",zqwMid:n.zqwMid}})}),$(".zqwM159-close").click(function(){$("#zqwM159").fadeOut()}),$("#zqwM159").on("mouseenter",".zqwM159-coupon,.zqwM159-h5,.zqwM159-price,.zqwM159-same",function(){$(this).children(".zqwM159-box").show()}),$("#zqwM159").on("mouseleave",".zqwM159-coupon,.zqwM159-h5,.zqwM159-price,.zqwM159-same",function(){$(this).children(".zqwM159-box").hide()}),$(".zqwM159-same-similar,.zqwM159-same-sameStyle,.zqwT159-like").on("mouseenter",function(){var t=$(window).scrollTop();$(window).on("scroll.zqwScroll",function(){$(window).scrollTop(t)})}),$(".zqwM159-same-similar,.zqwM159-same-sameStyle,.zqwT159-like").on("mouseleave",function(){$(window).off("scroll.zqwScroll")}),$(".zqwT159-like").on("mouseenter",function(){$(this).children(".zqwT159-likeDrop").show(),$(this).children(".zqwT159-likeBack").show()}),$(".zqwT159-like").on("mouseleave",function(){$(this).children(".zqwT159-likeDrop").hide(),$(this).children(".zqwT159-likeBack").hide()}),$(".zqwM159-same-toggle").on("click","div",function(){$(".zqwM159-same-toggle div").removeClass("active"),$(this).addClass("active"),1==$(this).data("num")?($(".zqwM159-same-sameStyle").show(),$(".zqwM159-same-similar").hide()):($(".zqwM159-same-similar").show(),$(".zqwM159-same-sameStyle").hide())}),$(".zqwMask-close").click(function(){$(".zqwMask").fadeOut()}),$(".zqwMask-but").click(function(){$(".zqwMask").hide(),l($(this).attr("data-href")),$("#zqw-maskInput").prop("checked")&&(1==$(this).attr("data-type")?r.zqwUland=0:r.zqwClick=0,chrome.storage.local.set({zqwMaskSign:r}))}),$.extend($.fn,{fnTimeCountDown:function(r){this.each(function(){var s=$(this),t={hm:s.find(".hm"),sec:s.find(".sec"),mini:s.find(".mini"),hour:s.find(".hour"),day:s.find(".day"),month:s.find(".month"),year:s.find(".year")},c={haomiao:function(t){return t<10?"00"+t.toString():t<100?"0"+t.toString():t.toString()},zero:function(t){var e=parseInt(t,10);return 0<e?(e<=9&&(e="0"+e),String(e)):"00"},dv:function(){var t=s.data("end")||r,e=new Date,a=new Date(t),i=(a-e.getTime())/1e3,n=a-e.getTime(),o={hm:"000",sec:"00",mini:"00",hour:"00",day:"00",month:"00",year:"0"};return 0<n?(o.hm=parseInt(c.haomiao(n%1e3)/100),o.sec=c.zero(i%60),o.mini=0<Math.floor(i/60)?c.zero(Math.floor(i/60)%60):"00",o.hour=0<Math.floor(i/3600)?c.zero(Math.floor(i/3600)%24):"00",o.day=0<Math.floor(i/86400)?c.zero(Math.floor(i/86400)%30):"00",o.month=0<Math.floor(i/2629744)?c.zero(Math.floor(i/2629744)%12):"00",o.year=0<Math.floor(i/31556926)?Math.floor(i/31556926):"0",o):(o.year=o.month=o.day=o.hour=o.mini=o.sec="00",void(o.hm="000"))},ui:function(){t.hm&&t.hm.html(c.dv().hm),t.sec&&t.sec.html(c.dv().sec),t.mini&&t.mini.html(c.dv().mini),t.hour&&t.hour.html(c.dv().hour),t.day&&(99<c.dv().day&&t.day.html("99+"),t.day.html(c.dv().day)),t.month&&t.month.html(c.dv().month),t.year&&t.year.html(c.dv().year),setTimeout(c.ui,1)}};c.ui()})}}),function(){if("tm"==v.plat||"tb"==v.plat){v.id=h("id");var t,r=v.id,e=$("html").html();-1!=q.indexOf("detail.ju.taobao")&&(v.id=h("item_id"),r=v.id),"tm"==v.plat?(v.cat=e.match(/"categoryId":"(\d+)",/)?e.match(/"categoryId":"(\d+)",/)[1]:"",v.rCat=e.match(/"rootCatId":"(\d+)",/)?e.match(/"rootCatId":"(\d+)",/)[1]:"",v.title=e.match(/"title":"(.+?)"/)?e.match(/"title":"(.+?)"/)[1]:""):"tb"==v.plat&&(v.cat=e.match(/(\s+)cid(\s+):(\s+)'(\d+)'/)?e.match(/(\s+)cid(\s+):(\s+)'(\d+)'/)[4]:"",v.rCat=e.match(/(\s+)rcid(\s+):(\s+)'(\d+)'/)?e.match(/(\s+)rcid(\s+):(\s+)'(\d+)'/)[4]:"",v.title=e.match(/title(\s+):(\s+)'(.*?)'/)?(t=e.match(/title(\s+):(\s+)'(.*?)'/)[3],str=unescape(t.replace(/\\u/g,"%u")),str):"");var a=0;$.ajax({url:"https://s.taobao.com/search?app=i2i&nid="+r,success:function(t){var e=t.match(/g_page_config\s=\s(.*)/);if(e&&e[1]&&e[1].match(/({.*});/)&&e[1].match(/({.*});/)[1]&&JSON.parse(e[1].match(/({.*});/)[1])){var a=JSON.parse(e[1].match(/({.*});/)[1]);a&&a.mods&&a.mods.singleauction&&a.mods.singleauction.data&&(i("pid","pid",a=a.mods.singleauction.data),i("price","view_price",a),i("cat","category",a),i("title","title",a),i("seller","user_id",a))}},complete:function(){n()}}),$.ajax({url:"https://pub.alimama.com/items/search.json?q=https://item.taobao.com/item.htm?id="+r,success:function(t){if(t&&t.data&&t.data.pageList&&t.data.pageList[0]){var e=t.data.pageList[0];i("price","zkPrice",e),i("cat","leafCatId",e),i("rCat","rootCatId",e),i("title","title",e),i("seller","sellerId",e),v.startT=e.couponEffectiveStartTime+" 00:00:00",v.endT=e.couponEffectiveEndTime+" 23:59:59",v.amountReq=e.couponInfo}},complete:function(){n()}}),$.ajax({url:"https://acs.m.taobao.com/h5/mtop.taobao.detail.getdetail/6.0/",data:{data:'{"itemNumId":"'+r+'"}'},success:function(t){if(t&&t.data&&t.data.item){var e=t.data.item;i("title","title",e),i("cat","categoryId",e),i("rCat","rootCategoryId",e)}if(t&&t.data&&t.data.apiStack&&t.data.apiStack[0]&&t.data.apiStack[0].value)try{var a=JSON.parse(t.data.apiStack[0].value);a&&a.skuCore&&a.skuCore.sku2info&&a.skuCore.sku2info[0]&&a.skuCore.sku2info[0].price&&(a=a.skuCore.sku2info[0].price,v.price=v.price?v.price:a.priceMoney?a.priceMoney/100:"")}catch(t){}t&&t.data&&t.data.seller&&i("seller","userId",t.data.seller)},complete:function(){n()}})}function i(t,e,a){return v[t]=v[t]?v[t]:a[e]?a[e]:""}function n(){if(3==(a+=1)){!function(){var o=1,s=0;function c(t){$(".zqwM159-couponDan").html('<div class="zqwM159-couponDan-noIcon"></div><div class="zqwM159-couponDan-noTitle">对不起 , 暂无可用优惠券</div>'),l(t?"https://s.click.taobao.com/t?e="+f(t.clickUrl,"e"):"https://h5.m.taobao.com/awp/core/detail.htm?id="+v.id),$(".zqwM159-h5 .zqwM159-title span").fadeOut(function(){$(this).html("扫码下单").fadeIn()}),$(".zqwM159-h5-title").html("打开淘宝APP<br>扫码下单更方便"),$.getJSON("https://uland.taobao.com/cp/coupon_recommend",{recommendType:0,count:10,onlySimilar:0,pid:u.myMmId,itemId:r},function(t){if(t&&t.result&&t.result.couponList){var o="";$.each(t.result.couponList,function(t,e){var a=e.item,i=z(a.discountPrice,e.amount),n="https://s.click.taobao.com/t?e="+f(a.clickUrl,"e");o+='<li>\n                                            <a href="#" target="_blank" data-href="'+n+'">\n                                                <div class="zqwM159-couponRec-img">\n                                                    <img src="'+a.picUrl+'_80x80">\n                                                </div>\n                                                <div class="zqwM159-couponRec-itemT" title="'+a.title+'">'+a.title+'</div>\n                                                <div class="zqwM159-couponRec-price" title="'+i+'元">券后:<span>'+i+'</span>元</div>\n                                                <div class="zqwM159-couponRec-button"><span>领'+e.amount+"元券</span></div>\n                                            </a>\n                                        </li>"}),$(".zqwM159-couponRec").html('<div class="zqwM159-couponRec-title">相似优惠券推荐</div>\n                                    <div class="zqwM159-couponRec-slider">\n                                        <a href="javascript:void(0);" class="zqwM159-couponRec-sliderL"></a>\n                                        <a href="javascript:void(0);" class="zqwM159-couponRec-sliderR"></a>\n                                        <div>\n                                            <ul class="zqwClear" id="zqwM159-couponRec-slider">'+o+"</ul>\n                                        </div>\n                                    </div>"),$(".zqwM159-couponRec-slider").superSlider({prevBtn:".zqwM159-couponRec-sliderL",nextBtn:".zqwM159-couponRec-sliderR",listCont:"#zqwM159-couponRec-slider",scrollWhere:"next",delayTime:2500,speed:300,amount:1,showNum:4,autoPlay:!0}),$("#zqwM159-couponRec-slider").on("click","a",function(t){t.preventDefault(),m(0,$(this).data("href"))})}})}!function n(){chrome.extension.sendMessage({name:"getCook",url:"https://www.taobao.com/",key:"_m_h5_tk"},function(t){if(t&&t[0]&&t[0].value){var e=Date.now(),a=v.title,i='{"q":"'+a+'","pid":"'+u.myMmId+'","page":'+o+',"lunaUrlParam":"{\'algo_sort\':\'mixcoupon\'}","useItemCouponPage":"1"}';$.ajax({url:"https://acs.m.taobao.com/h5/mtop.aitaobao.item.search/7.0/",type:"get",dataType:"json",data:{v:"7.0",api:"mtop.aitaobao.item.search",appKey:"12574478",t:e,sign:w(t[0].value.split("_")[0]+"&"+e+"&12574478&"+i),data:i},success:function(t){if(t&&t.ret&&t.ret[0]&&t.ret[0].match("调用成功"))if(t&&t.data&&t.data.items&&t.data.items.length){var e=t.data.items,a=1;if($.each(e,function(t,e){if(e.nid==r)return e.couponAmount?(v.amount=e.couponAmount/100,function(t){var e=t;l("https://uland.taobao.com/coupon/edetail?e="+f(e.clickUrl,"e"));var a=v.amount,i=v.amountReq,n=z(v.price,a),o="https://uland.taobao.com/coupon/edetail?e="+f(e.clickUrl,"e");p(a,o);var s='<div class="zqwM159-couponDan-img fl" data-zqwClick="MID-里面领券点击">\n                                <a>\n                                    <div class="fl">\n                                        <div class="zqwM159-couponDan-amount">¥<span>'+a+'</span></div>\n                                        <div class="zqwM159-couponDan-amountNeed">'+i+'</div>\n                                    </div>\n                                    <div class="zqwM159-couponDan-button fr">立即领取</div>\n                                </a>\n                            </div>\n                            <div class="fl">\n                                <div class="zqwM159-couponDan-price">券后价 : <span>'+n+'</span> 元</div>\n                                <div class="zqwM159-couponDan-time">还剩 :\n                                    <div id="zqwM159-couponDan-time">\n                                        <span class="day">00</span><span>日</span>\n                                        <span class="hour">00</span><span>时</span>\n                                        <span class="mini">00</span><span>分</span>\n                                        <span class="sec">00</span>.<span class="hm">0</span><span>秒</span>\n                                    </div>\n                                </div>\n                            </div>';$(".zqwM159-couponDan").html(s),$(".zqwM159-couponDan-img").click(function(){m(1,o)}),$(".zqwM159-coupon .zqwM159-title span").fadeOut(function(){$(this).html("领"+a+"元劵").css({color:"#ff0033",fontWeight:"bold"}).fadeIn()}),$(".zqwM159-h5 .zqwM159-title span").fadeOut(function(){$(this).html("扫码领券").fadeIn()});try{$("#zqwM159-couponDan-time").fnTimeCountDown(v.endT)}catch(t){}}(e)):c(e),a=0,!1}),a){if(3==o)return c(0),!1;o++,n()}}else c(0);else{if(3==++s)return c(0),!1;n()}}})}else $("body").append('<iframe src="//h5.m.taobao.com/" id="zqw-H5-Toke" style="display:none"></iframe>'),setTimeout(function(){$("#zqw-H5-Toke").remove(),n()},2e3)})}()}();var t="https://item.taobao.com/item.htm?id="+r;"tm"==v.plat&&(t="https://detail.tmall.com/item.htm?id="+r),o(t),function(){v.pid?(t=v.pid,e=v.id,a="https://s.taobao.com/search?type=samestyle&app=i2i&uniqpid="+t+"&nid="+e+"&sort=sale-desc",chrome.extension.sendMessage({name:"clearCook",url:a},function(){$.ajax({type:"get",url:a,success:function(t){var e=t.match(/<script>\s+g_page_config\s=\s(.*)/);if(e&&e[1]&&e[1].match(/({.*});/)&&e[1].match(/({.*});/)[1]&&JSON.parse(e[1].match(/({.*});/)[1])){var a=JSON.parse(e[1].match(/({.*});/)[1]);a.mods&&a.mods.recitem&&a.mods.recitem.data&&a.mods.recitem.data.items&&i(a=a.mods.recitem.data.items,0)}}})})):($(".zqwM159-same-toggle div").eq(0).hide(),$(".zqwM159-same-toggle div").eq(1).addClass("active"),$(".zqwM159-same-sameStyle").hide(),$(".zqwM159-same-similar").show());var t,e,a;function i(t,e){var a=".zqwM159-same-sameStyle ul";e&&(a=".zqwM159-same-similar ul");var i="";$.each(t,function(t,e){i+='<li>\n                                    <a href="'+e.detail_url+'" class="zqwClear" target="_blank">\n                                        <div class="fl">\n                                            <img src="'+e.pic_url+'_80x80">\n                                        </div>\n                                        <div class="fl">\n                                            <div class="zqwM159-same-itemT">'+e.title+'</div>\n                                            <div class="zqwM159-same-itemS">销量 : '+parseInt(e.view_sales)+'</div>\n                                            <div class="zqwM159-same-itemP">价格 : ¥ <span>'+e.view_price+'</span></div>\n                                        </div>\n                                        <div class="fl zqwM159-same-itemB">点击购买</div>\n                                    </a>\n                                </li>'}),$(a).html(i)}setTimeout(function(){var t,e;t=v.id,e="https://s.taobao.com/search?app=i2i&nid="+t+"&type=similar&sort=sale-desc",chrome.extension.sendMessage({name:"clearCook",url:e},function(){$.ajax({type:"get",url:e,success:function(t){var e=t.match(/<script>\s+g_page_config\s=\s(.*)/);if(e&&e[1]&&e[1].match(/({.*});/)&&e[1].match(/({.*});/)[1]&&JSON.parse(e[1].match(/({.*});/)[1])){var a=JSON.parse(e[1].match(/({.*});/)[1]);a.mods&&a.mods.recitem&&a.mods.recitem.data&&a.mods.recitem.data.items&&i(a=a.mods.recitem.data.items,1)}}})})},1500)}(),s(t),d(v.cat)}}function l(t){new QRCode($(".zqwM159-h5-qCode")[0],{text:t,width:106,height:106,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.L})}}(),function(){if("jd"==v.plat){var e=location.href;$(".zqwM159-box-h5").css("left",154);var i=e.match(/item.jd.com\/(\d+).html/)?e.match(/item.jd.com\/(\d+).html/)[1]:0;$.ajax({url:"https://p.3.cn/prices/mgets?skuIds=J_"+i,type:"GET",dataType:"json",success:function(t){v.price=t[0].p,o(e),function(){function a(){$(".zqwM159-couponDan").html('<div class="zqwM159-couponDan-noIcon"></div><div class="zqwM159-couponDan-noTitle">对不起 , 暂无可用优惠券</div>'),c("https://item.m.jd.com/product/"+i+".html"),$(".zqwM159-h5 .zqwM159-title span").fadeOut(function(){$(this).html("扫码下单").fadeIn()}),$(".zqwM159-h5-title").html("打开京东APP或微信<br>扫码下单更方便")}chrome.extension.sendMessage({name:"universal",url:"http://www.jingfenbang.com/?searchType=1&searchKey="+i,type:"get",dataType:"html"},function(t){if(t){if(!t.match(/i-sp-list-else([\s\S]*?)div/))return void a();v.endT=t.match(/i-sp-list-time([\s\S]*?)((\d+)-(\d+)-(\d+))([\s\S]*?)div/)?t.match(/i-sp-list-time([\s\S]*?)((\d+)-(\d+)-(\d+))([\s\S]*?)div/)[2]:"";var e=(t=t.match(/i-sp-list-else([\s\S]*?)div/)[0]).match(/href="([\s\S]*?)"/)?t.match(/href="([\s\S]*?)"/)[1]:"";v.amount=t.match(/span([\s\S]*?)(\d+)([\s\S]*?)span/)?t.match(/span([\s\S]*?)(\d+)([\s\S]*?)span/)[2]:"",chrome.extension.sendMessage({name:"universal",url:"http://www.haojingke.com/index.php/index/unionurl",type:"post",dataType:"json",data:{unionId:1000405866,positionId:1045184007,couponurl:e,materialIds:i}},function(t){t&&t.data?function(t){var e=t,a=v.amount,i=v.price,n=z(v.price,a),o=u.referC+e;c(e),p(a,o);var s='<div class="zqwM159-couponDan-img fl">\n                                <a href="'+o+'" target="_blank" rel="noreferrer">\n                                    <div class="fl">\n                                        <div class="zqwM159-couponDan-amount">¥<span>'+a+'</span></div>\n                                        <div class="zqwM159-couponDan-amountNeed">满'+Math.round(i)+"元减"+Math.round(a)+'元</div>\n                                    </div>\n                                    <div class="zqwM159-couponDan-button fr">立即领取</div>\n                                </a>\n                            </div>\n                            <div class="fl">\n                                <div class="zqwM159-couponDan-price">券后价 : <span>'+n+'</span> 元</div>\n                                <div class="zqwM159-couponDan-time">还剩 :\n                                    <div id="zqwM159-couponDan-time">\n                                        <span class="day">00</span><span>日</span>\n                                        <span class="hour">00</span><span>时</span>\n                                        <span class="mini">00</span><span>分</span>\n                                        <span class="sec">00</span>.<span class="hm">0</span><span>秒</span>\n                                    </div>\n                                </div>\n                            </div>';$(".zqwM159-couponDan").html(s),$(".zqwM159-coupon .zqwM159-title span").fadeOut(function(){$(this).html("领"+a+"元劵").css({color:"#ff0033",fontWeight:"bold"}).fadeIn()}),$(".zqwM159-h5-title").html("打开京东APP或微信<br>扫码领券"),$(".zqwM159-h5 .zqwM159-title span").fadeOut(function(){$(this).html("扫码领券").fadeIn()});try{$("#zqwM159-couponDan-time").fnTimeCountDown(v.endT)}catch(t){}}(t.data):a()})}else a()})}()}}),s(e),d(""),$("#zqwM159").css("z-index",3),$(".zqwM159-same").hide()}function c(t){new QRCode($(".zqwM159-h5-qCode")[0],{text:t,width:106,height:106,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.L})}}()},v={id:"",plat:i,title:"",price:"",sameNew:{},pid:"",seller:"",cat:"",rCat:"",shop:"",pic:"",sale:"",amount:"",amountReq:"",startT:"",endT:""};chrome.storage.local.get(null,function(t){var e=t.zqwjsonData.myMmId;e=e[Math.floor(Math.random()*e.length)],u={myMmId:e,website:t.zqwjsonData.website,referC:"",referD:""},n=t.zqwSet,c=$.isEmptyObject(t.zqwSetNew)?{zqwTop:"show",zqwMid:"show"}:t.zqwSetNew,r=$.isEmptyObject(t.zqwMaskSign)?{zqwUland:1,zqwClick:1}:t.zqwMaskSign,1!=$("body").attr("zqwSign159357")&&(o(),$("body").attr("zqwSign159357","1"))})}}(),$.each({"s.taobao.com":[".J_PicBox","mainsrp-itemlist","淘宝"],"list.tmall.com":[".productImg-wrap","J_ItemList","天猫"],"search.jd.com":[".gl-i-wrap","J_goodsList","京东"],"search.suning.com":[".res-img","filter-results","苏宁"],"list.suning.com":[".res-img","filter-results","苏宁"]},function(a,i){if(q==a)return chrome.storage.local.get(null,function(t){var c,e;setting=t.zqwListSet,"show"==setting&&(c=a,e=i,$("<style></style>").html('.zqwClear{zoom:1}.zqwClear:after{visibility:hidden;clear:both;display:block;content:"";height:0}.zqwClear:before{content:" ";display:table}.zqwList-item .fl{float:left}.zqwList-item .fr{float:right}.zqwList-coupon{position:absolute;top:0;left:0;font-family:"Microsoft Yahei",serif;color:#fff;font-size:16px;background:#000}.zqwList-item{font-family:"Microsoft Yahei",serif;position:absolute;right:0;bottom:50%;margin-bottom:-24px;width:54px;height:42px}.zqwList-item.left{left:0}.zqwList-box{width:54px;height:42px;color:#fff;font-size:12px;text-align:center;position:absolute;background:#000;opacity:0;cursor:pointer}.zqwList-box.active{opacity:.5;background:#FD2550}.zqwList-icon{margin:3px auto 0 auto;width:18px;height:18px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAMAAABhEH5lAAAAY1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+aRQ2gAAAAIHRSTlMA0fzj1Abyw7BKRfTctqWcl29mLisY7JCNioBdJhoVAjDv64MAAACESURBVBjTfY7nDsNACIMJl5vZq3v4/Z+ylEg9pZHiH7b1IRC0UQfRFlm/Q9T+UN8smgnGr+gKmFnS1oi2/5IRdYBLRDe0pErs5vcZPD6q00vJ5DhKDAyDu5LFYNASKzQSRUEeHa2aLk9xgEKwUspSqaJc9kjP/KFseZaN+RjlRX1CmtoHD5gKrq48aAkAAAAASUVORK5CYII=)}.zqwList-dropBox{width:397px;padding:0 0 0 11px;position:absolute;left:calc(100% - 1px);top:-66px;height:297px;z-index:99999999}.zqwList-item.left .zqwList-dropBox{left:auto;right:calc(100% - 1px);padding:0 11px 0 0}.zqwList-drop-arrow{position:absolute;top:75px;left:1px;width:15px;height:29px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAdBAMAAACH5ivpAAAAJFBMVEUAAAD////////h4eHm5uba2tr////////////5+fnh4eHg4OAed86SAAAACHRSTlMAIiDcmf6hXuCx7NUAAABiSURBVBjTNc9BDYAwEERREppyRQIyCJxJkAAOkICElYAEZHb6O53Tyz/tDm3TYryzQxinkS7j+BrSHQIBEASCQAAKoAZAAHsY4w90xmaQgBIgASVAAiRA8jtrR65gT0cGrACTMDNec4Eb3gAAAABJRU5ErkJggg==)}.zqwList-item.left .zqwList-drop-arrow{left:auto;transform:rotate(180deg);right:1px}.zqwList-drop{width:395px;height:295px;opacity:1;border:1px solid #ccc;border-radius:10px}.zqwList-drop-header{background:#D0090F;height:58px;border-radius:10px 10px 0 0;overflow:hidden}.zqwList-drop-logo{width:100px;height:58px;margin-left:12px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAgCAMAAADT9S0cAAAAyVBMVEUAAACiDBH////////////////////////25ub////////////////+/Pz89/j//////v7////////////68fL////////9+fn68vL//////f3////////////////////////+/Pz+/Pz//v7////////////////////////89vf//////v7+/f3//////////////////////////////////v7//////////////////////////////f3///////////////9qJ5NKAAAAQnRSTlMAA/30Jff5YARO1+3KRw/DNyIcawLq4gwH5ikXiHHy79kuHxHPQse/khQKoD4zp31TPIFZS62OeHS2ZprTsTrdupYwPklOAAAFAUlEQVRIx52WaYOiMAyG2aLlRjxAQQUZUVEOWe9bJ///R22hwKDrns+HaUhrXhqSdpicpjDpFnanO+4xv4Cfd5k/0AuTiH8708Zis7DHq61Ahv6J6xcu95SMM6P/GUy+nFzrTaj+DILuH0VaU9iTQWPNW+Easo0aGVInHpa/sY2w3P28ltO8TWHrlk9q5/ciSPpeuA5ItrJYeyRppTI2w0JDedhsAQJc2nqs/aUIn4l0eJ7vzmA25impyIShL2pdANXfgAEeaUrVhCMEyDyQ4TtPRZZVkfFwMEPmeUA42yDvBhTiZOPBhO4U42sibJJTIhRwyUYQ1g3kJGS+JgIiAKR/zukXm8/A75GJ+GzRyvPg1yyzJTvwyNr+4aGU1eOvQhJkYuB2GmKqE2zAkq5L/i0Mw8kUrgoZNptJmIr2gwZldsFgzBpVplwWcmnGrRY3Y+FaFKQggbFd962HwWWV3yfs8UgjxvjIOo6DATsESXJ0l/aNmjFeIvvUVavQjuKbCrcT68AeSb4pt/iOEXtZCVbv9cN3ZjR3KKceMRVaMsgt5g2tzxEGgLsf1kpcLjCJz9wKvdfqsjTCDpvrSMuodhW/ROyJeUe/AZLoIUcUR1+II9ucGRgGnRcRSmJjWleU2prL2JtgHLgXaH5Oq40rA5aeqCO0ipbbCfNWxJUQVxHhWPg15QkyqSNfeYIbwXXRmffei8xF8Pm08KJFVijeSBRFHQCTkWKmJW9cRPE+WBTlVGetl5PyDEc6+05kEcOUvGA3MPbpe6o1QuIBCqxazmZbB/xIiNXvlCL1desJ6/hGRFX8kJ5EQzAjpsNJsMsX9RQZ4aBV+dTtEULeSf3yuCYY8hMehqD3LHJfPhw406ChQ87aUIQpTQDvDnSw/f7TxWKdJbC3Gl8mZynBC9jTmAqdPU67YzSkn/GjAXE0A13I5qzVBcG9TfW/6CYN4t73y2dheBgSfAlthymHtls559XJ2UBgN4ZFd/I+mBdUP/DFC2B5bTVrLzS1gQHmJN9Iv/aR0Vrr9UOL2s3mOJf5WMc2AtDb8y9dQQeoD8Z5cU7jK2vb7CtSg9tc/fzG3MvFgjr5aXmdXGm/f3/YgAwP0erKCQ1Au3mRB1cd2uRyQC93BgIzmffpPgYYcOEl4HKJke1UM7C3sg7VEu4oUwS42o/NjbA56HDcCBXOdbjm5WUZcFynvs3aA4J8oisDDAGf5r/d/ug89YnaNoAlEcdMFX4FTvLkmW9Bznf7XUIT6ls6IIuAY5dm8Qoyn/36uRk71tkGY7hEdrkVGsd4le0sUUVES0NpMQvy7XbEyFN4+mZU5Lnjx5yH0HTTqTVgWqtEdGc0vb8RWUQrA9CMqLV8B4y2+iuRKLbB+Ux7kLPRoFfVYPe9n0SmXyJR7fMOoO+yMAuSccf/eBbpBuB9pIbikJbIOlLdgr4uDjNBBnagMs+oAcgVkWgEZjypnEPI743jXERdc6fAgc9Fprba1fJ2cS9woRdj5OsgrbqV8DeFsGPpV8rTxS93WmWv1va+U/w6bPnsiQWCHDHfUhYLMlI4HcVq+rRDSOSIVcC4jfS/DoycU+64SVhjujxdkvtaiqhjJCXEJB0/m04bvpvPVUL1lt6aTy3lErjVAOQL6SbBI0cddWiiETHULmHGnm567R6NyRO+vUO16NhzFy8TNyXlo3SMJ4r67RU+pEuIyP/B/MuqH611wXeBzfq8AAAAAElFTkSuQmCC) center no-repeat}.zqwList-drop-title{color:#fff;font-size:18px;margin:21px 0 0 10px}.zqwList-drop-set{height:58px;width:60px;background:#B5090E url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAAVFBMVEUAAAD4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl/4Wl+tAPQCAAAAG3RSTlMA9+cYgakqouKHFN4sJZ6NLhDww4bStJt4ajd6AsBcAAAAmklEQVQoz32QbQ+DIBCDNzc3RAWne+///596ScmF1NgPHKF5Gq6nA+Vw08f02Y4rzmK1aGx0Yt3RXGwK1SKYQWqsiIdNoRIJt4YS1TtRvsGoWBmkjGBUTU3ZCNUXwGKE6gX8d42EGWHQd9s8/spe2lXHvaQrtqGEd+gGFyQ1eRTbLRbGKsr1NIpElA6NepOoKWzn3O+UmBe/i1aEoQiVnNgEsAAAAABJRU5ErkJggg==) center no-repeat;cursor:pointer}.zqwList-drop-back{height:237px;background:#fff;border-radius:0 0 10px 10px}.zqwList-price-trend{width:350px;height:180px;margin:28px auto;background:#fff;border-radius:0 0 10px 10px;position:relative;overflow:hidden}.zqwList-ErrorContent{position:absolute;top:50%;left:50%;margin-top:-50px;margin-left:-84px;width:168px;height:86px}.zqwList-ErrorContent p{font-size:12px;color:#999;line-height:18px;text-align:center}.zqwList-ErrorImg{padding-top:10px;width:106px;height:40px;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAAAoCAMAAAAhb5/CAAAAq1BMVEUAAADQ0NDPz8/Ozs7m5ubV1dXNzc3MzMzNzc3Ozs7Ozs7o6OjMzMzOzs7Pz8/n5+fOzs7Nzc3Nzc3Nzc3MzMzOzs7MzMzt7e3c3NzS0tLOzs7Pz8/Q0NDMzMzR0dHe3t7+/v7Pz8/Nzc3Nzc3Nzc3Nzc3Ozs7////////MzMz19fX6+vrZ2dnp6enU1NTR0dH4+Pjk5OTv7+/9/f3T09Pj4+Pg4ODx8fHe3t4NSebVAAAAKHRSTlMA9e5XBRC+goDrN/vTIxv+nnVyKOKqjP79lGBLQDz56+Xls7KJadskjx/jKAAAAbZJREFUWMPN12tvmzAUgOFjc0sIoeR+79bbdo4hsUeXJv//l83NkBx1dKotoH0/IFnCesSR+WD4YOmM09tG0EYpH+T4piN7ghaaDfCfSDGvQSJ+CuA1ntdQQrFNY9KaLfsx6AjrKCHYtiHJZwpLtv4PJXgM103msaN1d0JUPKinZKmpE5+AKaaMJm7UjinE7z/rqfNR6Mr+0Lw/zyCbg1vj21/aWq3rqFweS20t7lIzP8rIdYLD20JbOSOss86SdMsfVxOc28zPH40Cs1h9+/1qyT2+H4FbASUP5Ju199c67JunxvcAyQhM2Y2xGqYSgIdratg3VrOUT/cJBWBjETgWjMc+QL1lS622jxsrXFsFqYtlSW1ZElgfy3PxfLHsqMekvwPLCF8qy4raBLvUnqosWVpQThFWlpCqfaqyFofnDig8HpR+LLugcCFPiEXZBYVC7rEsOqFQFfJGii4onXgp8tYp01ehvMgDi3o9ZyqkaBpaSGHYc6S8qQ8+eV1QUXR5dDFAj/RXTb1OjkU4jSj8mifwE/8rnr8v5bzlC6ppMGv12m3KBzyFj0WmamUy79h02VCz6Q+Hgc1uN15SewAAAABJRU5ErkJggg==) center center no-repeat}').appendTo("head"),document.onreadystatechange=function(){var n;"complete"==document.readyState&&($.each($(e[0]),function(){$(this).append('<div class="zqwList-item" data-type="0">\n                            <div class="zqwList-box" >\n                                <div class="zqwList-icon"></div>\n                                <div>价格趋势</div>\n                            </div>\n                        </div>'),$(this).offset().left>1*$(document).width()-1*$(this).offset().left&&$(this).children(".zqwList-item").addClass("left"),"search.jd.com"==c?$(".zqwList-item").css("marginBottom",65):"search.suning.com"!=c&&"list.suning.com"!=c||$(".zqwList-item").css({top:106})}),$(document).on("mouseenter",e[0],function(){$(this).find(".zqwList-box").css("opacity",.3)}),$(document).on("mouseleave",e[0],function(){$(this).find(".zqwList-box").css("opacity",0)}),"s.taobao.com"!=c&&"list.tmall.com"!=c||($(document).on("mouseenter",e[0],function(){var n=$(this),t=1;if(!n.data("zqwsign")&&t){t=0;var o="s.taobao.com"==c?n.find(".pic-link").data("nid"):n.closest(".product").data("id"),s="s.taobao.com"==c?n.siblings(".ctx-box").find(".J_ClickStat").text():n.siblings(".productTitle").children().attr("title");$.ajax({url:"https://pub.alimama.com/items/search.json?q=https://item.taobao.com/item.htm?id="+o,success:function(t){if(t&&t.data&&t.data.pageList&&t.data.pageList[0]&&t.data.pageList[0].couponAmount){var i=t.data.pageList[0].couponAmount;chrome.extension.sendMessage({name:"getCook",url:"https://www.taobao.com/",key:"_m_h5_tk"},function(t){if(t&&t[0]&&t[0].value){var e=Date.now(),a='{"q":"'+s+"\",\"pid\":\"mm_114987072_44144030_416992187\",\"page\":1,\"lunaUrlParam\": \"{'algo_sort':'mixcoupon','rank':'rank_profile:FirstRankScorer_atbh5','PS':'tk_item_score_atbh5','appBucket':'a'}\",\"useItemCouponPage\":\"1\"}";$.ajax({url:"https://acs.m.taobao.com/h5/mtop.aitaobao.item.search/7.0/",type:"get",dataType:"json",data:{v:"7.0",api:"mtop.aitaobao.item.search",appKey:"12574478",t:e,sign:w(t[0].value.split("_")[0]+"&"+e+"&12574478&"+a),data:a},success:function(t){if(t&&t.ret&&t.ret[0]&&t.ret[0].match("调用成功")&&t&&t.data&&t.data.items&&t.data.items.length){var e=t.data.items;$.each(e,function(t,e){if(e.nid==o){var a="https://uland.taobao.com/coupon/edetail?e="+f("https:"+e.clickUrl,"e");return n.append('<a href="'+a+'" target="_blank" rel="noreferrer">\n                                                                                <div class="zqwList-coupon">领取'+i+"优惠券</div>\n                                                                            </a>"),!1}})}}})}else $("body").append('<iframe src="//h5.m.taobao.com/" id="zqw-H5-Toke" style="display:none"></iframe>'),setTimeout(function(){$("#zqw-H5-Toke").remove()},2e3)})}},complete:function(){t=1,n.data("zqwsign",1)}})}}),$(document).on("mouseleave",e[0],function(){})),$(document).on("mouseenter",".zqwList-item",function(){var e,a,i=$(this);"s.taobao.com"==c?(e=i.parent().children(".pic-box-inner").children(".pic").children("a").attr("href"),a=i.parent().parent().find(".g_price").children("strong").html()):"list.tmall.com"==c?(e=i.parent().children("a").attr("href"),a=i.parent().parent().find(".productPrice").find("em").text().split("¥")[1]):"search.jd.com"==c?(e=i.parent().children(".p-img").children("a").attr("href"),a=i.parent().find(".p-price").find("i").html()):"search.suning.com"==c||"list.suning.com"==c?(e=i.parent().children(".img-block").children("a").attr("href"),a=i.parent().parent().find(".price").text().split("¥")[1]):"search.gome.com.cn"==c&&(e=i.parent().children("a").attr("href"),a=i.parent().parent().find(".price").text().split("¥")[1]),$(this).children(".zqwList-box").css({opacity:1,background:"#FD2550"}),n=setTimeout(function(){var t,g,b;0==i.data("type")?(i.append('<div class="zqwList-dropBox">\n                                    <div class="zqwList-drop">\n                                        <div class="zqwList-drop-header">\n                                            <div class="zqwList-drop-logo fl"></div>\n                                            <div class="zqwList-drop-title fl">购物省钱助手</div>\n                                            <div class="zqwList-drop-set fr"></div>\n                                        </div>\n                                        <div class="zqwList-drop-back zqwClear">\n                                            <div class="zqwList-price-trend"></div>\n                                        </div>\n                                        <div class="zqwList-drop-arrow"></div>\n                                    </div>\n                                </div>'),$(i).on("click",".zqwList-drop-set",function(){chrome.storage.local.set({zqwListSet:"hide"}),$(".zqwList-item").remove()}),t=e,g=a,b=i,$.ajax({url:"https://zhushou.huihui.cn/productSense",data:{phu:t,type:"canvas"},type:"GET",timeout:5e3,dataType:"json",success:function(t){for(var e=t.priceHistoryData.list,a=new Date,i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),n=[],o=[],s=[],c=0,r=0;r<e.length;r++){var l=0;0<r&&(l=e[r-1].price),e[r].price!=l&&(s[c]=e[r],c++)}var d=s[s.length-1];s[s.length-1].price==g?s[s.length-1]={price:1*g,time:i}:s[s.length]={price:1*g,time:i};var p=!0;if(1==s.length){var m=s[0];p=!(s=[m,m,m])}var u=s.slice(-7);if($.each(u,function(t,e){n.push(1*e.price);var a=[];a[0]=e.time.split("-")[1].replace(/^[0]/,""),a[1]=e.time.split("-")[2].replace(/^[0]/,""),a=a.join("/"),o.push(a)}),0==p){o[0]="";var h=[];h[0]=d.time.split("-")[1].replace(/^[0]/,""),h[1]=d.time.split("-")[2].replace(/^[0]/,""),h=h.join("/"),o[1]=h}var f={min:[],max:[]},w=Math.min.apply(null,n),v=Math.max.apply(null,n);w!=v&&($.each(n,function(t,e){if(e==w)return!(f.min=[o[t],e])}),$.each(n,function(t,e){if(e==v)return!(f.max=[o[t],e])}));var z={grid:{x:14,x2:12,y:24,y2:36,borderWidth:0,width:324,height:120},animation:!0,backgroundColor:"#fff",tooltip:{show:!0,name:"",alwaysShowContent:!1,trigger:"axis",padding:10,textStyle:{fontWeight:"normal",color:"#fff",align:"left",fontSize:12},axisPointer:{type:"line",lineStyle:{color:"#cdcdcd",type:"dashed"}}},xAxis:[{data:o,axisLine:{lineStyle:{color:"#ccc",width:1}},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999899"}}}],yAxis:[{type:"value",splitNumber:2,scale:!0,minInterval:1,axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}}],series:[{type:"line",data:n,symbol:"circle",smooth:!1,showAllSymbol:!0,label:{normal:{show:!0,textStyle:{color:"#FD2550",fontWeight:"bold",textAlign:"center"},formatter:function(t){return t.name==f.min[0]&&t.value==f.min[1]?(f.min[1]==f.max[1]?"":"最低")+t.value:t.name==f.max[0]&&t.value==f.max[1]?(f.min[1]==f.max[1]?"":"最高")+t.value:t.value}},emphasis:{show:!0,textStyle:{color:"#d0090f",fontWeight:"bold",textAlign:"center"}}},lineStyle:{normal:{color:"#d0090f",type:"solid",width:1}},itemStyle:{normal:{color:"#d0090f"},emphasis:{color:"#d0090f"}},areaStyle:{normal:{color:{x:0,y:0,x2:0,y2:1,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(208, 9, 15, 0.2)"},{offset:1,color:"rgba(208, 9, 15, 0)"}]}}}}]},q=echarts.init(b.find(".zqwList-price-trend")[0]);q.setOption(z)},error:function(){b.find(".zqwList-price-trend").html('<div class="zqwList-ErrorContent">\n                    \t\t\t\t<div class="zqwList-ErrorTitle">\n                    \t\t\t\t\t<p>小券窝正在努力完善商品价格库，敬请期待哦~</p>\n                    \t\t\t\t</div>\n                    \t\t\t\t<div class="zqwList-ErrorImg"></div>\n                \t\t\t\t  </div>')}}),i.data("type",1)):i.children(".zqwList-dropBox").css("top","-66px")},500)}),$(document).on("mouseleave",".zqwList-item",function(){var t=$(this);$(this).children(".zqwList-box").css({opacity:.3,background:"#000"}),clearTimeout(n),t.children(".zqwList-dropBox").css("top","-9999px")}))})}),!1})}();